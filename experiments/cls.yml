# Author: Michael Sevilla
# Bring up Ceph with object interfaces on a single node

- hosts: all
  roles: [cleanup]

- hosts: Builder
  roles: 
    - role:     ceph-build
      code_dir: "/tmp/docker/src/lua-rados"
      commit:   "master"
      cxxflags: "-std=c++11"
      threads:  "64"

#- hosts: Builder
#  roles: [{role: lua-rados-build, code_dir: "/tmp/docker/src/lua-rados"}]
  #tasks:
    #- command: docker exec -d lua-rados-build /run.sh
    #- command: docker exec lua-rados-build /ceph-scripts/singlenode-minimal.sh
    #- command: docker exec lua-rados-build busted lua-rados/test.lua
